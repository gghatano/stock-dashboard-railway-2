# ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆä¾‹

## è‰¯ã„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã®æ›¸ãæ–¹

### å»ºè¨­çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

```
âŒ æ‚ªã„ä¾‹:
ã€Œã“ã®ã‚³ãƒ¼ãƒ‰ã¯æœ€æ‚ªã§ã™ã€‚ã€

âœ… è‰¯ã„ä¾‹:
ã€Œã“ã®éƒ¨åˆ†ã¯ä»¥ä¸‹ã®ç†ç”±ã§æ”¹å–„ã§ãã¾ã™ï¼š
1. [ç†ç”±]
2. [ææ¡ˆã™ã‚‹å®Ÿè£…æ–¹æ³•]ã€
```

### å…·ä½“çš„ãªæŒ‡æ‘˜

```
âŒ æ‚ªã„ä¾‹:
ã€Œã“ã®é–¢æ•°ã¯è¤‡é›‘ã™ãã¾ã™ã€‚ã€

âœ… è‰¯ã„ä¾‹:
ã€Œã“ã®é–¢æ•°ã¯100è¡Œã‚ã‚Šã€5ã¤ã®è²¬ä»»ã‚’æŒã£ã¦ã„ã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ï¼š
1. validate_input() - å…¥åŠ›æ¤œè¨¼
2. process_data() - ãƒ‡ãƒ¼ã‚¿å‡¦ç†
3. save_result() - çµæœä¿å­˜ã€
```

## ã‚³ãƒ¼ãƒ‰æ”¹å–„ã®ä¾‹

### å‘½åã¨ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„

```python
# ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡
def f(x, y):
    z = x + y
    if z > 100:
        return True
    else:
        return False
```

**ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ:**

ğŸŸ¡ feature.py:10 - å‘½åè¦å‰‡ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„

å•é¡Œç‚¹:
- é–¢æ•°åãŒæ„å›³ã‚’è¡¨ã—ã¦ã„ãªã„
- å¤‰æ•°åãŒä¸æ˜ç¢º
- ä¸è¦ãªif-elseæ§‹æ–‡

ä¿®æ­£æ¡ˆ:
```python
def is_sum_over_threshold(value1: int, value2: int, threshold: int = 100) -> bool:
    """2ã¤ã®å€¤ã®åˆè¨ˆãŒé–¾å€¤ã‚’è¶…ãˆã¦ã„ã‚‹ã‹åˆ¤å®š"""
    return value1 + value2 > threshold
```

## N+1å•é¡Œã®æŒ‡æ‘˜ä¾‹

```python
# âŒ æ‚ªã„ä¾‹
users = User.query.all()
for user in users:
    posts = Post.query.filter_by(user_id=user.id).all()

# âœ… è‰¯ã„ä¾‹
users = User.query.options(joinedload(User.posts)).all()
```

**ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ:**

ğŸ”´ user_service.py:45 - N+1å•é¡Œ

å•é¡Œç‚¹: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°åˆ†ã®ã‚¯ã‚¨ãƒªãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚

ä¿®æ­£æ¡ˆ: `joinedload` ã‚’ä½¿ç”¨ã—ã¦1ã‚¯ã‚¨ãƒªã§å–å¾—ã—ã¦ãã ã•ã„ã€‚
